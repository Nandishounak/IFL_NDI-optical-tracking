import numpy as np
from math import  pi, atan2
rot_mat_12 = np.array([[0.0, 0.1136620257939767, -0.9935194733332656, 184.71882942877116],
                       [0.6193764562592833, 0.7800063144456763, 0.08923539015752142, -328.62003417238384],
                       [0.7850941379425095, -0.6153625706177476, -0.07039958274752454, -954.4696622730071],
                       [0, 0, 0, 1]])

X_stl1 = np.array ([[145.46],[-5.02], [15.52],[1]])
X_stl2 = np.array ([[145.46 ],[-5.02], [-39.51],[1]])
l1 = np.array([[ 164.87264043],
 [-240.70988071],
 [-838.54659486],[1]])
l2 = np.array([[ 227.25838386],
 [-246.31320939],
 [-834.12601688],[1]])

stl1 = np.linalg.pinv(rot_mat_12)@l1
print ('stl1', stl1)
stl2 = np.linalg.pinv(rot_mat_12)@l2
print ('stl2', stl2)

#error
mse1 = np.sum((stl1[1:] - X_stl1[1:])**2)
mse2 = np.sum((stl2[1:] - X_stl2[1:])**2)

